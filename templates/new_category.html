<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit Category</title>
    <link rel="stylesheet" href="/static/css/styles.css">
    {% from 'macros.html' import load_navbar, load_footer %}
</head>
<body>
  {{ load_navbar(get_user(request)) }}

  <div class="container">
    {% if category %}
      <h2>Edit Category</h2>
      <form action="/categories/{{ category.id }}/edit" method="post" class="form">
    {% else %}
      <h2>Add New Category</h2>
      <form action="/categories/new" method="post" class="form">
    {% endif %}

      <div class="form-group">
        <label for="name">Name</label>
        <input
          type="text"
          id="name"
          name="name"
          required
          value="{{ category.name if category else '' }}">
      </div>

      <div class="form-group">
        <label for="image_url">Image URL (optional)</label>
        <input
          type="text"
          id="image_url"
          name="image_url"
          value="{{ category.image_url if category else '' }}">
      </div>

      <button type="submit" class="btn">
        {{ 'Save Changes' if category else 'Add Category' }}
      </button>
      <a href="/categories" class="btn">Back</a>
    </form>
</div>

  {{ load_footer() }}
</body>
</html>
